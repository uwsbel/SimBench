{
    "instruction": "You are a PyChrono expert tasked with generating a simulation script based on the following instructions. Make sure to:\n        1. Initialize the PyChrono environment and core components.\n        2. Add the required physical systems and objects as specified.\n        3. Set necessary default parameters such as positions, forces, and interactions.\n\n        Instructions:\n        Create a PyChrono simulation with a Viper rover on a rigid terrain. Set up the Chrono system with gravity and ground body, then initialize the Viper rover and its driver. Create a real-time visualization using Irrlicht with camera settings and lighting. Implement a simulation loop where the rover's steering gradually changes over a specified time period, updating and rendering the rover at each timestep.\n        ",
    "input": "",
    "output": "```python\nimport os\nimport math\nimport numpy as np\nimport pychrono as chrono\nimport pychrono.robot as viper\nfrom pychrono import irrlicht as chronoirr\n\n# Create Chrono system\nsystem = chrono.ChSystemNSC()\nsystem.SetCollisionSystemType(chrono.ChCollisionSystem.Type_BULLET)\nsystem.SetGravitationalAcceleration(chrono.ChVector3d(0, 0, -9.81))  # Set gravity in the negative Z direction\nchrono.ChCollisionModel.SetDefaultSuggestedEnvelope(0.0025)\nchrono.ChCollisionModel.SetDefaultSuggestedMargin(0.0025)\n\n# Create ground body\nground_mat = chrono.ChContactMaterialNSC()\nground = chrono.ChBodyEasyBox(20, 20, 1, 1000, True, True, ground_mat)\nground.SetPos(chrono.ChVector3d(0, 0, -1))  # Position the ground slightly below the origin\nground.SetFixed(True)  # Fix the ground in place\n# Set ground texture for visualization\nground.GetVisualShape(0).SetTexture(chrono.GetChronoDataFile(\"textures/concrete.jpg\"))\nsystem.Add(ground)\n\n# Create Viper rover\nrover = viper.Viper(system)  # Instantiate the Viper rover\ndriver = viper.ViperDCMotorControl()  # Create a driver for the rover\nrover.SetDriver(driver)  # Assign the driver to the rover\n\n# Initialize rover position and orientation\ninit_pos = chrono.ChVector3d(0, 0.2, 0)\ninit_rot = chrono.ChQuaterniond(1, 0, 0, 0)\nrover.Initialize(chrono.ChFramed(init_pos, init_rot))\n\n# Create run-time visualization\nvis = chronoirr.ChVisualSystemIrrlicht()\nvis.AttachSystem(system)\nvis.SetCameraVertical(chrono.CameraVerticalDir_Z)\nvis.SetWindowSize(1280, 720)\nvis.SetWindowTitle('Viper rover - Rigid terrain')\nvis.Initialize()\nvis.AddLogo(chrono.GetChronoDataFile('logo_pychrono_alpha.png'))\nvis.AddSkyBox()\nvis.AddCamera(chrono.ChVector3d(0, 2.5, 1.5), chrono.ChVector3d(0, 0, 1))\nvis.AddTypicalLights()\nvis.AddLightWithShadow(chrono.ChVector3d(1.5, -2.5, 5.5), chrono.ChVector3d(0, 0, 0.5), 3, 4, 10, 40, 512)\n\n# Enable shadows (commented out to improve performance)\n# vis.EnableShadows()\n\n# Set the simulation time step\ntime_step = 1e-3\n\n# Simulation loop\ntime = 0\nwhile vis.Run():\n    time += time_step  # Increment the simulation time\n    steering = 0\n    max_steering = math.pi / 6  # Maximum steering angle\n    \n    # Define the steering behavior over time\n    if 2 < time < 7:\n        steering = max_steering * (time - 2) / 5  # Gradually increase steering\n    elif 7 < time < 12:\n        steering = max_steering * (12 - time) / 5  # Gradually decrease steering\n    \n    driver.SetSteering(steering)  # Set the steering for the rover\n\n    rover.Update()  # Update the rover's state\n\n    # Render the scene\n    vis.BeginScene()\n    vis.Render()\n    vis.EndScene()\n    \n    # Advance the simulation by one time step\n    system.DoStepDynamics(time_step)\n\n```"
}
import pychrono as ch
import pychrono.vehicle as veh
import pychrono.ros as chros
import pychrono.sensor as sens
from pychrono import irrlicht as chronoirr
import math

def main():
    veh.SetDataPath(ch.GetChronoDataPath() + 'vehicle/')
    
    hmmwv = veh.HMMWV_Full()
    hmmwv.SetContactMethod(ch.ChContactMethod_NSC)  
    hmmwv.SetChassisCollisionType(veh.CollisionType_NONE)  
    hmmwv.SetChassisFixed(False)  
    hmmwv.SetInitPosition(ch.ChCoordsysd(ch.ChVector3d(0, 0, 1.6), ch.ChQuaterniond(1, 0, 0, 0)))  
    hmmwv.SetEngineType(veh.EngineModelType_SHAFTS)  
    hmmwv.SetTransmissionType(veh.TransmissionModelType_AUTOMATIC_SHAFTS)  
    hmmwv.SetDriveType(veh.DrivelineTypeWV_AWD)  
    hmmwv.SetSteeringType(veh.SteeringTypeWV_PITMAN_ARM)  
    hmmwv.SetTireType(veh.TireModelType_TMEASY)  
    hmmwv.SetTireStepSize(1e-3)  
    hmmwv.Initialize()  
    hmmwv.SetChassisVisualizationType(veh.VisualizationType_MESH)
    hmmwv.SetSuspensionVisualizationType(veh.VisualizationType_MESH)
    hmmwv.SetSteeringVisualizationType(veh.VisualizationType_MESH)
    hmmwv.SetWheelVisualizationType(veh.VisualizationType_MESH)
    hmmwv.SetTireVisualizationType(veh.VisualizationType_MESH)
    
    terrain = veh.RigidTerrain(hmmwv.GetSystem())
    patch_mat = ch.ChContactMaterialNSC()  
    patch_mat.SetFriction(0.9)  
    patch_mat.SetRestitution(0.01)  
    patch = terrain.AddPatch(patch_mat, ch.CSYSNORM, 100.0, 100.0)  
    patch.SetTexture(veh.GetDataFile("terrain/textures/tile4.jpg"), 100, 100)
    terrain.Initialize()  
    
    vis = chronoirr.ChVisualSystemIrrlicht()
    vis.AttachSystem(hmmwv.GetSystem())
    vis.SetCameraVertical(ch.CameraVerticalDir_Z)
    vis.SetWindowSize(1280, 720)
    vis.SetWindowTitle('Viper rover - Rigid terrain')
    vis.Initialize()
    vis.AddLogo(ch.GetChronoDataFile('logo_pychrono_alpha.png'))
    vis.AddSkyBox()
    vis.AddCamera(ch.ChVector3d(-5, 2.5, 1.5), ch.ChVector3d(0, 0, 1))  
    vis.AddTypicalLights()
    vis.AddLightWithShadow(ch.ChVector3d(1.5, -2.5, 5.5), ch.ChVector3d(0, 0, 0.5), 3, 4, 10, 40, 512)

    
    driver = veh.ChDriver(hmmwv.GetVehicle())
    driver.Initialize()  

    
    ros_manager = chros.ChROSPythonManager()
    ros_manager.RegisterHandler(chros.ChROSClockHandler())  
    
    ros_manager.RegisterHandler(chros.ChROSDriverInputsHandler(25, driver, "~/input/driver_inputs"))
    
    ros_manager.RegisterHandler(chros.ChROSBodyHandler(25, hmmwv.GetChassisBody(), "~/output/hmmwv/state"))

    
    box = ch.ChBodyEasyBox(1, 1, 1, 1000, True, True)
    box.SetPos(ch.ChVector3d(0, 0, 0.5))
    box.SetBodyFixed(True)
    hmmwv.GetSystem().Add(box)

    
    sens_manager = sens.ChSensorManager(hmmwv.GetSystem())

    
    lidar = sens.ChLidarSensor(hmmwv.GetSystem(), 200, 1.5, 3.5, 100)
    lidar.SetName("Lidar")
    lidar.SetSensorOffsetPose(ch.ChFrame<>(ch.ChVector3d(0, 0, 1.5)))
    lidar.SetRotationResolution(0.01)
    lidar.SetHorizontalResolution(0.01)
    lidar.SetVerticalAngle(ch.CH_C_PI / 2)
    lidar.SetScanDirection(sens.Direction_Z)
    lidar.SetMinMaxDistance(0.1, 10)
    lidar.SetGaussianNoiseMean(0)
    lidar.SetGaussianNoiseStdDev(0.005)
    lidar.SetDropoutProbability(0.005)
    lidar.SetDropoutIntensity(0.005)
    lidar.SetSpotNoiseMean(0)
    lidar.SetSpotNoiseStdDev(0.005)
    lidar.SetSpotNoiseSize(0.005)
    lidar.SetSpotNoiseIntensity(0.005)
    lidar.SetSpotNoiseProbability(0.005)
    lidar.SetSpotNoiseNumPoints(10)
    lidar.SetSpotNoiseSeed(0)
    lidar.SetSpotNoiseType(sens.SpotNoiseType_UNIFORM)
    lidar.SetSpotNoiseDistribution(sens.SpotNoiseDistribution_SPHERE)
    lidar.SetSpotNoiseRadius(0.005)
    lidar.SetSpotNoiseAngle(0.005)
    lidar.SetSpotNoiseAngleResolution(0.005)
    lidar.SetSpotNoiseAngleOffset(0.005)
    lidar.SetSpotNoiseAngleOffsetResolution(0.005)
    lidar.SetSpotNoiseAngleOffsetVariance(0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceResolution(0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMin(0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMax(0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinResolution(0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMaxResolution(0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMax(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStep(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.SetSpotNoiseAngleOffsetVarianceMinMaxStepResolution(0.005, 0.005)
    lidar.
print("error happened with only start ```python")